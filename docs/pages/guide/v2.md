---
footer: false
---

<script setup>
  import useNpmVersion from '@theme/hooks/useNpmVersion';
  import { onMounted } from 'vue';

  const { load: loadVersion, version } = useNpmVersion();

  onMounted(() => {
    loadVersion();
  });
</script>


# Getting the Init Token

To get the initiation token for the KYC SDK, you need to execute the `generateKycSdkInitToken` GraphQL mutation.

**Note: This mutation should be called from a backend service.**

Always call this mutation from a backend service. Never call this mutation from the frontend. If you call this mutation from the frontend, you will expose your API token to the public. This will allow anyone to generate initiation tokens for your API token.

### Base URL: 
    - **production:** `https://hasura.agiodigital.com/v1/graphql`
    - **development:** `https://dev.hasura.agiodigital.com/v1/graphql`

## GraphQL Mutation:

```graphql
mutation {
  generateKycSdkInitToken(input: {
    apiToken: "a66bdfbe-ba27-4741-9365-3ee7b3b5c0e2",
    externalUserId: "john_doe_01",
    amount: 100,
    ttl: 5400,
    externalUserFirstName: "John",
    externalUserLastName: "Doe",
    externalUserEmail: "example@email.com",
    currency: "BSD",
  })
}
```

## Using CURL:

For **Production**:
```bash
curl -X POST \
     -H "Content-Type: application/json" \
     --data '{"query":"mutation { generateKycSdkInitToken(input: { apiToken: \"a66bdfbe-ba27-4741-9365-3ee7b3b5c0e2\", externalUserId: \"john_doe_01\", amount: 100, ttl: 5400, externalUserFirstName: \"John\", externalUserLastName: \"Doe\", externalUserEmail: \"example@email.com\", currency: \"BSD\", }) }"}' \
     https://hasura.agiodigital.com/v1/graphql
```

For **Development**:
```bash
curl -X POST \
     -H "Content-Type: application/json" \
     --data '{"query":"mutation { generateKycSdkInitToken(input: { apiToken: \"a66bdfbe-ba27-4741-9365-3ee7b3b5c0e2\", externalUserId: \"john_doe_01\", amount: 100, ttl: 5400, externalUserFirstName: \"John\", externalUserLastName: \"Doe\", externalUserEmail: \"example@email.com\", currency: \"BSD\", }) }"}' \
     https://dev.hasura.agiodigital.com/v1/graphql
```

## Using Axios:

```javascript
import axios from 'axios';

// For Production
const BASE_URL = 'https://hasura.agiodigital.com/v1/graphql';

// For Development
// const BASE_URL = 'https://dev.hasura.agiodigital.com/v1/graphql';

axios.post(BASE_URL, {
  query: `
    mutation {
      generateKycSdkInitToken(input: {
        apiToken: "a66bdfbe-ba27-4741-9365-3ee7b3b5c0e2",
        externalUserId: "john_doe_01",
        amount: 100,
        ttl: 5400,
        externalUserFirstName: "John",
        externalUserLastName: "Doe",
        externalUserEmail: "example@email.com",
        currency: "BSD",
      })
    }
  `
}).then(response => {
  console.log(response.data);
}).catch(error => {
  console.error("Error:", error);
});
```
